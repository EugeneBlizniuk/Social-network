(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{122:function(e,t,n){e.exports=n.p+"static/media/user.ce8e7ab8.png"},123:function(e,t,n){e.exports=n.p+"static/media/preloader.a2cc3a3d.svg"},124:function(e,t,n){e.exports={profile:"Profile_profile__2ixmi"}},125:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1cqVc"}},126:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__3eTdl"}},127:function(e,t,n){e.exports={item:"Post_item__1jXdT"}},128:function(e,t,n){e.exports={errorSummaryForm:"Login_errorSummaryForm__17R-_"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__2aXxE",item:"Navbar_item__17Xcr",activeLink:"Navbar_activeLink__2uS9c"}},155:function(e,t,n){e.exports=n(281)},160:function(e,t,n){},164:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(59),o=n.n(s),i=n(11),c=(n(160),n(19)),u=n(20),l=n(22),m=n(21),p=n(10),g=n(7),d=n(9),f=(n(164),n(15)),E=n.n(f),h=function(){return r.a.createElement("nav",{className:E.a.nav},r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/profile",activeClassName:E.a.activeLink}," Profile ")),r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/dialogs",activeClassName:E.a.activeLink}," Dialogs ")),r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/users",activeClassName:E.a.activeLink}," Users ")),r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/news",activeClassName:E.a.activeLink}," News ")),r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/music",activeClassName:E.a.activeLink}," Music ")),r.a.createElement("div",{className:E.a.item},r.a.createElement(i.b,{to:"/settings",activeClassName:E.a.activeLink}," Settings ")))},S=function(){return r.a.createElement("div",null,"News are going to be here!")},j=function(){return r.a.createElement("div",null,"Music is going to be here!")},A=function(){return r.a.createElement("div",null,"Settings are going to be here!")},b=n(42),O=n(5),v={dialogs:[{id:1,name:"Victor"},{id:2,name:"Elena"},{id:3,name:"Viktoria"},{id:4,name:"Eugene"},{id:5,name:"Vlad"}],messages:[{message:"Hi"},{message:"What's up?"},{message:"ye"}]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var n=t.message;return Object(O.a)(Object(O.a)({},e),{},{messages:[].concat(Object(b.a)(e.messages),[{message:n}])});default:return e}},y=n(116),w=n(117),I=n(32),k=n.n(I),P=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:k.a.dialog},r.a.createElement(i.b,{to:t},e.name))},x=function(e){return r.a.createElement("div",{className:k.a.message},e.message)},L=Object(w.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{name:"messageText",component:"textarea",placeholder:"Enter your message"})),r.a.createElement("div",null,r.a.createElement("button",null,"Add message")))})),F=function(e){var t=e.dialogs.map((function(e){return r.a.createElement(P,{name:e.name,id:e.id})})),n=e.messages.map((function(e){return r.a.createElement(x,{message:e.message})}));return r.a.createElement("div",null,r.a.createElement("div",{className:k.a.dialogs},r.a.createElement("div",{className:k.a.dialogItems},t),r.a.createElement("div",{className:k.a.messages},r.a.createElement("div",null,n)),r.a.createElement(L,{onSubmit:function(t){e.addMessage(t.messageText)}})))},U=function(e){var t=function(t){Object(l.a)(a,t);var n=Object(m.a)(a);function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(e,this.props):r.a.createElement(p.a,{to:"/login"})}}]),a}(r.a.Component);return Object(d.b)(C)(t)},C=function(e){return{isAuthenticated:e.auth.isAuthenticated}},N=Object(g.d)(U,Object(d.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages}}),(function(e){return{addMessage:function(t){var n=function(e){return{type:"ADD_MESSAGE",message:e}}(t);e(n)}}})))(F),M=n(12),B=n.n(M),T=n(25),K=n(121).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"00662f5d-210d-45bf-921b-aaa41d417c74"}}),Q={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return K.get("users?page".concat(e,"&count").concat(t)).then((function(e){return e.data}))},follow:function(e){return K.post("follow/".concat(e))},unfollow:function(e){return K.delete("follow/".concat(e))},getProfile:function(e){return console.warn("it is going to be deprecated, use getProfile from profileAPI"),G.getProfile(e)}},G={getProfile:function(e){return K.get("profile/".concat(e))},updateStatus:function(e){return K.put("profile/status",{status:e})},getStatus:function(e){return K.get("profile/status/".concat(e))}},J=function(){return K.get("auth/me")},W=function(e,t,n){return K.post("auth/login",{email:e,password:t,rememberMe:n})},Z=function(){return K.delete("auth/login")},z={users:[],totalCount:0,pageSize:5,currentPage:1,isFetching:!1,followingInProcess:[]},H=function(e){return{type:"FOLLOW",userId:e}},V=function(e){return{type:"UNFOLLOW",userId:e}},Y=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},D=function(e){return{type:"SET_TOTAL_COUNT",totalCount:e}},q=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},X=function(e,t){return{type:"FOLLOWING_IN_PROCESS",isFetching:e,userId:t}},_=function(){var e=Object(T.a)(B.a.mark((function e(t,n,a,r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(X(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(X(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":case"UNFOLLOW":var n=Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){if(e.id===t.userId){var n=!e.followed;return Object(O.a)(Object(O.a)({},e),{},{followed:n})}return e}))});return n;case"SET_USERS":return Object(O.a)(Object(O.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROCESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProcess:t.isFetching?[].concat(Object(b.a)(e.followingInProcess),[t.userId]):e.followingInProcess.filter((function(e){return e!=t.userId}))});default:return e}},ee=n(122),te=n.n(ee),ne=n(84),ae=n.n(ne),re=n(123),se=n.n(re),oe=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:se.a}))},ie=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);return r.a.createElement("div",null,e.isFetching?r.a.createElement(oe,null):null,r.a.createElement("div",null,n.map((function(t){return r.a.createElement("span",{className:e.currentPage===t&&ae.a.selectedPage,onClick:function(){e.onPageChanged(t)}},t)}))),e.users.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(i.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:te.a,className:ae.a.userImage}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:e.followingInProcess.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProcess.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city"))))})))},ce=function(e){return e.usersPage.users},ue=function(e){return e.usersPage.pageSize},le=function(e){return e.usersPage.currentPage},me=function(e){return e.usersPage.totalCount},pe=function(e){return e.usersPage.isFetching},ge=function(e){return e.usersPage.followingInProcess},de=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(ie,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,isFetching:this.props.isFetching,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingInProcess:this.props.toggleFollowingInProcess,followingInProcess:this.props.followingInProcess})}}]),n}(r.a.Component),fe=Object(g.d)(U,Object(d.b)((function(e){return{users:ce(e),pageSize:ue(e),currentPage:le(e),totalCount:me(e),isFetching:pe(e),followingInProcess:ge(e)}}),{follow:function(e){return function(t){_(t,e,Q.follow.bind(Q),H)}},unfollow:function(e){return function(t){_(t,e,Q.unfollow.bind(Q),V)}},setTotalCount:D,getUsers:function(e,t){return function(){var n=Object(T.a)(B.a.mark((function n(a){var r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Y(e)),a(q(!0)),n.next=4,Q.getUsers(a,t);case 4:r=n.sent,a(q(!1)),a({type:"SET_USERS",users:r.items}),a(D(r.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleFollowingInProcess:X}))(de),Ee=n(124),he=n.n(Ee),Se=n(125),je=n.n(Se),Ae=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var e=this.props.status;return e||(e="no status"),r.a.createElement("div",null,!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.activateEditMode},e)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onBlur:this.deactivateEditMode,onChange:this.onStatusChange,value:this.state.status})))}}]),n}(r.a.Component),be=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:je.a.descriptionBlock},r.a.createElement("img",{src:e.profile.photos.large}),r.a.createElement(Ae,{status:e.status,updateStatus:e.updateStatus}))):r.a.createElement(oe,null)},Oe={postMessages:[{message:"What's up?",likeCount:11},{message:"This is my first post!",likeCount:13}],profile:null,status:""},ve=function(e){return{type:"SET_STATUS",status:e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(O.a)(Object(O.a)({},e),{},{postMessages:[].concat(Object(b.a)(e.postMessages),[{message:t.postMessage,likeCount:0}])});case"SET_USER_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.userProfile});case"SET_STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},ye=n(126),we=n.n(ye),Ie=n(127),ke=n.n(Ie),Pe=function(e){return r.a.createElement("div",{className:ke.a.item},r.a.createElement("img",{src:"https://vokrug-tv.ru/pic/news/5/f/c/2/rsz300x300_5fc2879465129c11d65749ab9e3db7cc.jpg"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"like ",e.likeCount)))},xe=Object(w.a)({form:"addNewPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{name:"newPostMessage",component:"textarea",placeholder:"Something new happened?"})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))})),Le=function(e){var t=e.postMessages.map((function(e){return r.a.createElement(Pe,{message:e.message,likeCount:e.likeCount})}));return r.a.createElement("div",{className:we.a.postsBlock},"My posts",r.a.createElement("div",null,"New posts"),r.a.createElement(xe,{onSubmit:function(t){e.addPost(t.newPostMessage)}}),r.a.createElement("div",null,t))},Fe=Object(d.b)((function(e){return{newPostTextField:e.profilePage.newPostTextField,postMessages:e.profilePage.postMessages}}),(function(e){return{addPost:function(t){var n=function(e){return{type:"ADD_POST",postMessage:e}}(t);e(n)}}}))(Le),Ue=function(e){return r.a.createElement("div",{className:he.a.profile},r.a.createElement(be,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Fe,null))},Ce=function(e){return e.profilePage.profile},Ne=function(e){return e.profilePage.status},Me=function(e){return e.auth.id},Be=function(e){return e.auth.isAuthenticated},Te=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||this.props.isAuthenticated&&(e=this.props.autherizedUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(Ue,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),Ke=Object(g.d)(U,p.f,Object(d.b)((function(e){return{profile:Ce(e),status:Ne(e),autherizedUserId:Me(e),isAuthenticated:Be(e)}}),{getUserProfile:function(e){return function(){var t=Object(T.a)(B.a.mark((function t(n){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",userProfile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(T.a)(B.a.mark((function t(n){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.getStatus(e);case 2:a=t.sent,n(ve(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(T.a)(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(ve(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Te),Qe=n(85),Ge=n.n(Qe),Je=function(e){return r.a.createElement("header",{className:Ge.a.header},r.a.createElement("img",{src:"data:image/jpeg;base64,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"}),r.a.createElement("div",{className:Ge.a.loginBlock},e.isAuthenticated?r.a.createElement("div",null," ",e.login," ",r.a.createElement("button",{onClick:e.logout},"Log out")):r.a.createElement(i.b,{to:"/login"},"Login")))},We=n(37),Ze={id:null,email:null,login:null,isAuthenticated:!1},ze=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{id:e,email:t,login:n,isAuthenticated:a}}},He=function(){return function(){var e=Object(T.a)(B.a.mark((function e(t){var n,a,r,s,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return 0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.email,o=a.login,t(ze(r,s,o,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(O.a)(Object(O.a)({},e),t.payload);default:return e}},Ye=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(Je,this.props)}}]),n}(r.a.Component),De=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,login:e.auth.login}}),{logout:function(){return function(){var e=Object(T.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:0===e.sent.data.resultCode&&t(ze(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ye),qe=n(128),Xe=n.n(qe),_e=Object(w.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{name:"login",placeholder:"Login",component:"input"})),r.a.createElement("div",null,r.a.createElement(y.a,{name:"password",placeholder:"Password",component:"input",type:"password"})),r.a.createElement("div",null,r.a.createElement(y.a,{name:"rememberMe",type:"checkbox",component:"input"})," Remember me"),e.error&&r.a.createElement("div",{className:Xe.a.errorSummaryForm},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),$e=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t,n){return function(){var a=Object(T.a)(B.a.mark((function a(r){var s,o;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W(e,t,n);case 2:0===(s=a.sent).data.resultCode?r(He()):(o=s.data.messages.length>0?s.data.messages[0]:"Some error",r(Object(We.a)("login",{_error:o})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){if(e.isAuthenticated)return r.a.createElement(p.a,{to:"/profile"});return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(_e,{onSubmit:function(t){var n=t.login,a=t.password,r=t.rememberMe;e.login(n,a,r)}}))})),et={initialized:!1},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(O.a)(Object(O.a)({},e),{},{initialized:!0});default:return e}},nt=function(e){return e.app.initialized},at=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(De,null),r.a.createElement(h,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ke,null)}}),r.a.createElement(p.b,{path:"/dialogs",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement($e,null)}}),r.a.createElement(p.b,{path:"/news",component:S}),r.a.createElement(p.b,{path:"/music",component:j}),r.a.createElement(p.b,{path:"/settings",component:A}))):r.a.createElement(oe,null)}}]),n}(r.a.Component),rt=Object(g.d)(p.f,Object(d.b)((function(e){return{initialized:nt(e)}}),{initializeApp:function(){return function(e){var t=e(He());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(at);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=n(129),ot=n(118),it=Object(g.c)({profilePage:Re,dialogsPage:R,usersPage:$,auth:Ve,form:ot.a,app:tt}),ct=Object(g.e)(it,Object(g.a)(st.a));window.store=ct,o.a.render(r.a.createElement(i.a,null,r.a.createElement(d.a,{store:ct},r.a.createElement(rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1NSfB",dialogItems:"Dialogs_dialogItems__237Uq",dialog:"Dialogs_dialog__37Fpd",messages:"Dialogs_messages__3_P1F"}},84:function(e,t,n){e.exports={userImage:"Users_userImage__ft5l9",selectedPage:"Users_selectedPage__RxuxO"}},85:function(e,t,n){e.exports={header:"Header_header__3c2T_",loginBlock:"Header_loginBlock__32ydF"}}},[[155,1,2]]]);
//# sourceMappingURL=main.e5e0906d.chunk.js.map